<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JYP Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    font-family: Inter, system-ui, sans-serif;
    background:#f6f7fb;
    margin:0;
    padding:20px;
}
.container{
    max-width:1100px;
    margin:auto;
}
.card{
    background:#fff;
    border-radius:18px;
    padding:24px;
    margin-bottom:20px;
    box-shadow:0 12px 30px rgba(0,0,0,0.08);
}
h2,h3{margin-top:0;color:#222}
button{
    border:none;
    cursor:pointer;
}
.week-btn{
    background:#ff7a00;
    color:#fff;
    padding:14px 20px;
    border-radius:14px;
    margin:8px;
}
.quiz-btn{
    background:#fff;
    border:2px solid #ff7a00;
    color:#ff7a00;
    padding:14px 20px;
    border-radius:14px;
    margin:8px;
}
.popup{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:10;
}
.popup-box{
    background:#fff;
    padding:30px;
    border-radius:20px;
    width:90%;
    max-width:420px;
}
input{
    width:100%;
    padding:12px;
    margin:10px 0;
    border-radius:12px;
    border:1px solid #ccc;
}
.primary-btn{
    width:100%;
    background:#ff7a00;
    color:#fff;
    padding:14px;
    border-radius:14px;
}
.question{
    margin-bottom:24px;
}
.option{
    background:#f2f3f7;
    padding:12px;
    border-radius:12px;
    margin:8px 0;
}
.option input{
    margin-right:8px;
}
.center{
    text-align:center;
}
.hidden{display:none}
</style>
</head>

<body>

<div class="container">

<!-- WEEK SELECTION -->
<div class="card" id="weekSection">
    <h2>Select Week</h2>
    <div id="weeks"></div>
</div>

<!-- QUIZ LIST -->
<div class="card hidden" id="quizSection">
    <h2 id="weekTitle"></h2>
    <div id="quizList"></div>
</div>

<!-- QUIZ QUESTIONS -->
<div class="card hidden" id="quizBox">
    <h2 id="quizTitle"></h2>
    <form id="quizForm"></form>
    <button class="primary-btn" onclick="submitQuiz()">Submit Quiz</button>
</div>

<!-- THANK YOU -->
<div class="card hidden center" id="thankYou">
    <h2>Thank You!</h2>
    <p>Your responses have been recorded successfully.</p>
</div>

</div>

<!-- USER DETAILS POPUP -->
<div class="popup" id="popup">
    <div class="popup-box">
        <h3>Enter Details</h3>
        <input type="text" id="name" placeholder="Your Name" required>
        <input type="email" id="email" placeholder="Email" required>
        <input type="tel" id="phone" placeholder="Phone" required>
        <button class="primary-btn" onclick="startQuiz()">Start Quiz</button>
    </div>
</div>

<script>
// ---------------- BACKEND DATA (JS) ----------------
const data = {
    "Week 1": [
        {
            id:1,
            title:"Indian Constitution Basics",
            questions:[
                {
                    q:"Who is the head of the Indian State?",
                    options:["President","Prime Minister","Governor","Chief Justice"]
                },
                {
                    q:"How many Fundamental Rights are there?",
                    options:["5","6","7","8"]
                }
            ]
        }
    ],
    "Week 2": [
        {
            id:2,
            title:"Parliamentary System",
            questions:[
                {
                    q:"What is the lower house of Parliament?",
                    options:["Rajya Sabha","Lok Sabha","Vidhan Sabha","Council"]
                }
            ]
        }
    ]
};

let currentQuiz = null;

// ---------------- WEEK LOAD ----------------
const weeksDiv = document.getElementById("weeks");
Object.keys(data).forEach(week=>{
    const btn = document.createElement("button");
    btn.className="week-btn";
    btn.innerText=week;
    btn.onclick=()=>showQuizzes(week);
    weeksDiv.appendChild(btn);
});

function showQuizzes(week){
    document.getElementById("quizSection").classList.remove("hidden");
    document.getElementById("weekTitle").innerText = week;
    const list = document.getElementById("quizList");
    list.innerHTML="";
    data[week].forEach(q=>{
        const btn=document.createElement("button");
        btn.className="quiz-btn";
        btn.innerText=q.title;
        btn.onclick=()=>openPopup(q);
        list.appendChild(btn);
    });
}

// ---------------- QUIZ FLOW ----------------
function openPopup(quiz){
    currentQuiz = quiz;
    document.getElementById("popup").style.display="flex";
}

function startQuiz(){
    if(!name.value || !email.value || !phone.value){
        alert("Please fill all details");
        return;
    }
    document.getElementById("popup").style.display="none";
    loadQuiz();
}

function loadQuiz(){
    document.getElementById("quizBox").classList.remove("hidden");
    document.getElementById("quizTitle").innerText = currentQuiz.title;
    const form = document.getElementById("quizForm");
    form.innerHTML="";
    currentQuiz.questions.forEach((q,i)=>{
        const div=document.createElement("div");
        div.className="question";
        div.innerHTML=`<p><strong>${q.q}</strong></p>`;
        q.options.forEach(opt=>{
            div.innerHTML+=`
            <label class="option">
                <input type="radio" name="q${i}" required> ${opt}
            </label>`;
        });
        form.appendChild(div);
    });
}

function submitQuiz(){
    if(!document.getElementById("quizForm").checkValidity()){
        alert("Please answer all questions");
        return;
    }
    document.getElementById("quizBox").classList.add("hidden");
    document.getElementById("quizSection").classList.add("hidden");
    document.getElementById("weekSection").classList.add("hidden");
    document.getElementById("thankYou").classList.remove("hidden");
}
</script>

</body>
</html>
